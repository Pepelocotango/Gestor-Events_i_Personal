### `README.md`**

# Gestor d'Esdeveniments i Personal v0.1.2_dev

Aplicaci√≥ d'escriptori multiplataforma (constru√Øda amb Electron, React i Vite) per a la gesti√≥ integral d'esdeveniments, personal i les seves assignacions. El projecte est√† actualment en fase de desenvolupament actiu.

## üíæ Desc√†rrega i Instal¬∑laci√≥

Pots descarregar l'√∫ltima versi√≥ de l'aplicaci√≥ directament des de la nostra secci√≥ de [**Releases a GitHub**](https://github.com/Pepelocotango/Gestor-Events_i_Personal/releases).

Cada versi√≥ inclou binaris compilats per a Windows, macOS i Linux. Assegura't de descarregar el fitxer correcte per al teu sistema operatiu.

### Requisits M√≠nims del Sistema

*   **Windows:** Windows 10 (64-bit) o superior.
*   **macOS:** macOS 10.15 (Catalina) o superior.
*   **Linux:** Ubuntu 18.04, Debian 10, Fedora 28 o qualsevol distribuci√≥ equivalent o m√©s recent.

### Instruccions per Plataforma

#### ü™ü **Windows**

Oferim dues versions per a Windows:

1.  **Instal¬∑lador (`...-Installer.exe`):**
    *   **Recomanat per a la majoria d'usuaris.**
    *   Descarrega i executa el fitxer `.exe` que cont√© la paraula `Installer`.
    *   Aix√≤ instal¬∑lar√† l'aplicaci√≥ al teu sistema, creant una drecera a l'escriptori i una entrada al men√∫ d'inici per a un acc√©s f√†cil.

2.  **Versi√≥ Portable (`...-Portable.exe`):**
    *   **Ideal per executar sense instal¬∑lar, per exemple des d'un pen-drive.**
    *   Descarrega el fitxer `.exe` que cont√© la paraula `Portable`.
    *   Pots executar l'aplicaci√≥ directament amb un doble clic sense que s'instal¬∑li res al teu sistema.

#### Ô£ø **macOS**

Per a macOS, la distribuci√≥ es fa a trav√©s d'un fitxer `.dmg`:

*   Descarrega el fitxer `...-macOS-10.15+.dmg`.
*   Fes-hi doble clic per obrir-lo. S'obrir√† una finestra del Finder.
*   Per instal¬∑lar l'aplicaci√≥, simplement **arrossega la icona de l'aplicaci√≥ a la drecera de la carpeta d'Aplicacions** que apareix a la mateixa finestra.
*   Ja pots executar l'aplicaci√≥ des de la teva carpeta d'Aplicacions o mitjan√ßant Launchpad.

> **Nota:** La primera vegada que obris l'aplicaci√≥, com que no est√† descarregada des de l'App Store, macOS podria mostrar un av√≠s de seguretat.
Per obrir-la, fes clic dret sobre la icona de l'aplicaci√≥, selecciona "Obrir" i confirma l'acci√≥ al di√†leg que apareixer√†.
Si el pas anterior no funciona, prova de anar a prefer√®ncies de sistema i donar-li perm√≠s d'execuci√≥ a la App. ( gr√†cies Isaac!)

#### üêß **Linux**

Per a Linux, utilitzem el format `AppImage`, que no requereix instal¬∑laci√≥:

*   Descarrega el fitxer `...-Linux-Ubuntu18.04+.AppImage`.
*   **Dona-li permisos d'execuci√≥.** La manera m√©s f√†cil √©s fent clic dret sobre el fitxer > Propietats > Permisos > i marcar la casella "Permet executar el fitxer com un programa".
    *   Alternativament, des de la terminal: `chmod +x GestorEsdeveniments-*.AppImage`
*   Fes doble clic sobre el fitxer per executar l'aplicaci√≥.

---

### üìÇ Fitxers d'Exemple

Per ajudar-te a comen√ßar, hem incl√≤s una carpeta anomenada `examples_json` amb fitxers de dades d'exemple que pots carregar a l'aplicaci√≥:

*   **`example_all.json`**: Un fitxer complet amb esdeveniments, personal i assignacions per veure totes les funcionalitats de l'aplicaci√≥ en acci√≥.
*   **`example_person.json`**: Un fitxer m√©s senzill centrat en la gesti√≥ de la base de dades de persones.

Pots carregar aquests fitxers des de l'aplicaci√≥ utilitzant el bot√≥ "Carregar dades" per familiaritzar-te amb l'estructura de dades.


## üöÄ Funcionalitats Clau

Aquesta eina est√† dissenyada per centralitzar la planificaci√≥ i el seguiment de personal en m√∫ltiples esdeveniments, amb un enfocament en la claredat visual i la flexibilitat.

-   **Gesti√≥ d'Esdeveniments Marc:** Crear, editar i eliminar esdeveniments amb dates, lloc i notes generals.
-   **Gesti√≥ de Persones/Grups:** Base de dades centralitzada de contactes amb els seus detalls.
-   **Assignacions Detallades:**
    -   Assignaci√≥ de persones a esdeveniments per rangs de dates.
    -   Estat per assignaci√≥ (`S√≠`, `No`, `Pendent`).
    -   **Estat Diari Individual:** Capacitat per definir un estat per a cada dia en assignacions de m√∫ltiples jornades (`Mixt`), amb fons i estils coherents.
-   **Visualitzaci√≥ Avan√ßada:**
    -   **Calendari Interactiu:** M√∫ltiples vistes (multi-mes, mes, setmana, agenda) per a una planificaci√≥ visual.
    -   **Llista Filtrable:** Llista d'esdeveniments amb filtres per text, lloc, persona, estat i data.
    -   **Auto-expansi√≥ Intel¬∑ligent:** La llista mostra autom√†ticament els resultats coincidents en aplicar un filtre, expandint els marcs i assignacions rellevants.
-   **Detecci√≥ de Conflictes Precisa:** El sistema avisa si una persona s'assigna a m√∫ltiples tasques **en un dia espec√≠fic**, evitant falsos positius.
-   **Importaci√≥ i Exportaci√≥:**
    -   C√†rrega i desat de totes les dades en format JSON.
    -   Exportaci√≥ de la vista filtrada actual a CSV.
    -   **Exportaci√≥ Granular:** Exportaci√≥ de resums espec√≠fics (per persona, data o esdeveniment) a CSV des de cada grup de resum.
-   **Interf√≠cie d'Usuari:**
    -   Suport per a tema clar i fosc.
    -   Notificacions (toasts) per a les accions de l'usuari.
    -   Visualitzaci√≥ detallada d'estats mixts, amb un desglossament per dia i colors representatius.

## üõ†Ô∏è Pila Tecnol√≤gica (Tech Stack)

-   **Electron:** `^29.4.6`
-   **Vite:** `^6.3.5`
-   **React:** `^18.3.1`
-   **TypeScript:** `~5.5.3`
-   **Tailwind CSS:** `^3.4.17`
-   **FullCalendar:** `^6.1.17`
-   **Electron Builder:** `^24.13.3`

## üèóÔ∏è Arquitectura i Estructura del Projecte

El projecte segueix una arquitectura moderna de tres capes i una organitzaci√≥ de fitxers clara per separar responsabilitats.

#### 1. Arquitectura General
-   **Proc√©s Principal (Backend - Electron):** `main.cjs` s'encarrega de la l√≤gica de l'aplicaci√≥ nativa: gesti√≥ de finestres, men√∫s, cicle de vida (amb desat segur abans de tancar) i acc√©s segur al sistema de fitxers.
-   **Proc√©s de Preload (Pont):** `preload.cjs` actua com un pont segur entre el m√≥n de Node.js (proc√©s principal) i el m√≥n del navegador (frontend), exposant funcions controlades mitjan√ßant `contextBridge`.
-   **Proc√©s de Renderitzaci√≥ (Frontend - React):** La interf√≠cie d'usuari, constru√Øda amb React i Vite.
    -   **Gesti√≥ d'Estat Centralitzada:** El hook `useEventDataManager` actua com a √∫nica font de veritat per a les dades. `EventDataContext` distribueix aquest estat a tota l'aplicaci√≥.
    -   **Code Splitting:** `App.tsx` utilitza `React.lazy` per carregar components de manera as√≠ncrona, optimitzant la c√†rrega inicial.

---

### üìÅ Estructura i Responsabilitat dels Fitxers

#### 1. Fitxers de Configuraci√≥ i Arrel del Projecte

Aquests fitxers defineixen el projecte, les seves depend√®ncies i com es construeix i s'executa.

*   **`package.json`**: El manifest del projecte. Defineix el nom, la versi√≥, els scripts (`npm run dev`, `npm run build:electron`) i totes les depend√®ncies.
*   **`vite.config.ts`**: Configuraci√≥ de **Vite**. Defineix com es compila i s'empaqueta el codi React per al *renderer* d'Electron.
*   **`tailwind.config.cjs`**: El cor de l'est√®tica de l'aplicaci√≥. Configura **TailwindCSS**, defineix quins fitxers escanejar i cont√© el **plugin personalitzat** per aplicar els estils del tema fosc a FullCalendar.
*   **`postcss.config.cjs`**: Fitxer de configuraci√≥ auxiliar per a **PostCSS**, utilitzat per Tailwind.
*   **`tsconfig.json`**: Configuraci√≥ de **TypeScript**. Defineix les regles del llenguatge i la resoluci√≥ de m√≤duls.
*   **`index.html`**: El punt d'entrada HTML de l'aplicaci√≥, una closca simple que carrega el CSS i el JS principals.

#### 2. Fitxers Principals d'Electron

Aquests fitxers converteixen l'aplicaci√≥ web de React en una aplicaci√≥ d'escriptori.

*   **`main.cjs`**: El **proc√©s principal** d'Electron. √âs el backend de l'aplicaci√≥, responsable de crear la finestra, gestionar el men√∫ nadiu, controlar el cicle de vida de l'app (incloent-hi el desat segur de dades en tancar) i gestionar la comunicaci√≥ amb el sistema de fitxers.
*   **`preload.cjs`**: El **pont de comunicaci√≥ segur** que exposa funcions del backend (com `saveAppData`) al frontend de manera controlada, utilitzant `contextBridge`.

#### 3. Codi Font de l'Aplicaci√≥ (`src/`)

Aquesta carpeta cont√© tota la l√≤gica i la interf√≠cie de l'aplicaci√≥ React.

*   **Punt d'Entrada i Component Arrel:**
    *   `src/index.tsx`: Inicia l'aplicaci√≥ React renderitzant el component `App` a l'element `#root` de l'`index.html`.
    *   `src/App.tsx`: Component pare de tota l'aplicaci√≥. Munta l'estructura general, gestiona el tema (clar/fosc), controla els modals, mostra notificacions i carrega din√†micament (`React.lazy`) els components pesats.
    *   `src/index.css`: Full d'estils principal que importa les capes de Tailwind i defineix els estils personalitzats de l'aplicaci√≥.

*   **Dades i L√≤gica de Negoci:**
    *   `src/hooks/useEventDataManager.ts`: El "cervell" de l'aplicaci√≥. Hook personalitzat que centralitza tota la l√≤gica per gestionar dades, incloent la **detecci√≥ de conflictes per dia**.
    *   `src/contexts/EventDataContext.tsx`: Proporciona acc√©s a les dades i funcions del hook anterior a tota l'aplicaci√≥ mitjan√ßant el context de React.

*   **Definicions i Utilitats:**
    *   `src/types.ts`: Defineix totes les interf√≠cies de dades (`EventFrame`, `Assignment`, etc.) amb TypeScript.
    *   `src/constants.tsx`: Lloc centralitzat per a valors constants i components d'icones SVG.
    *   `src/utils/`: Carpeta amb funcions d'ajuda gen√®riques:
        *   `dateFormat.ts`: Per a formatar dates.
        *   `dataMigration.ts`: Per a migrar dades de formats antics.
        *   `statusUtils.ts`: L√≤gica per generar el text descriptiu dels estats mixts.
        *   `dateRangeFormatter.ts`: Utilitat per agrupar llistes de dates en rangs compactes.

*   **Components de la Interf√≠cie (`src/components/`)**
    *   `Controls.tsx`: Panell de control superior amb botons per a la gesti√≥ de dades i configuraci√≥.
    *   `MainDisplay.tsx`: Orquestra la vista principal, gestionant filtres i l'**estat d'expansi√≥ autom√†tica** de la llista.
    *   `SummaryReports.tsx`: Component que genera i mostra els resums de dades, permetent l'**exportaci√≥ granular** de cada grup a CSV.
    *   `EventFrameCard.tsx`: Component dedicat a renderitzar una √∫nica targeta d'esdeveniment marc.
    *   `AssignmentCard.tsx`: Component dedicat a renderitzar una √∫nica assignaci√≥, incloent la vista detallada per dies.
    *   `ui/Modal.tsx`: Component gen√®ric i reutilitzable que serveix de base per a tots els di√†legs modals.
    *   `modals/`: Directori que cont√© cada modal en un fitxer separat, millorant l'organitzaci√≥.

## üöÄ Comen√ßar (Getting Started) MODE DEVELOPER

### Prerequisits

Assegura't de tenir instal¬∑lat [Node.js](https://nodejs.org/) (versi√≥ 18 o superior) i `npm`.

### Instal¬∑laci√≥

1.  Clona el repositori.
2.  Navega al directori del projecte.
3.  Instal¬∑la les depend√®ncies:
    ```sh
    npm install
    ```

### Execuci√≥ en Mode Desenvolupament

Aquest comandament iniciar√† el servidor de Vite i l'aplicaci√≥ Electron simult√†niament amb rec√†rrega autom√†tica.

```sh
npm run electron-dev
```

## üì¶ Compilaci√≥ (Build)
### Compilar per a Linux

Per crear una versi√≥ de producci√≥ de l'aplicaci√≥ (p. ex., un fitxer `.AppImage` per a Linux):

```sh
npm run build:linux
```

### Compilar per a Windows

Aquest comandament crear√† tant l'instal¬∑lador (-Setup.exe) com la versi√≥ portable (.exe).

```sh
npm run build:win
```

### Compilar per a macOS

Aquest comandament crear√† els fitxers `.dmg` i `.zip` per a macOS.

```sh
npm run build:mac
```

El resultat es desar√† al directori `dist`.

## ‚úíÔ∏è Autoria

-   **Autor Principal:** P√´p 
-   **Co-autoria i Suport T√®cnic:** Isaac ;) / Gemini / Github Copilot / Perplexity / ChatGPT

### Captures de pantalla:    
![Captura de pantalla del gestor d'events i personal](imatges%20i%20recursos/screenshot1mac.jpeg)


## üìÑ Llic√®ncia

Aquest projecte est√† sota la llic√®ncia MIT.

> Copyright (c) 2025 P√´p
>
> Permission is hereby granted, free of charge, to any person obtaining a copy
> of this software and associated documentation files (the "Software"), to deal
> in the Software without restriction, including without limitation the rights
> to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
> copies of the Software, and to permit persons to whom the Software is
> furnished to do so, subject to the following conditions:
>
> The above copyright notice and this permission notice shall be included in all
> copies or substantial portions of the Software.
>
> THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
> IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
> FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
> AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
> LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
> OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
> SOFTWARE.
